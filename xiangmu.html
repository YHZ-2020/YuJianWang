<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="keywords" content="抑郁症，项目，订阅项目">
        <title>项目</title>
        <!--正文Styles -->
        <link href="assets/css/bootstrap.min.css" rel="stylesheet">
        <link href="assets/css/style.css" rel="stylesheet">
		<!-- 底部导航Styles -->
		<link href="css/style.css" rel="stylesheet" type="text/css" media="all"/>
		
		<!--主要样式-->
		<link rel="stylesheet" href="css/style2.css"><!--滚动图样式-->
		<style>
			.title{
				padding-top:50px;
				margin-bottom:50px;
				text-align: center;	
			}
			
			.title:after{
				top:130px;
			}	
			
			.div1{
				margin-top:0px;
				margin-bottom:50px;
				text-align: center;	
			}
		</style>
    </head>
    <body>
		<!--导航条开始-->
        <div id="menu-item" class="menu-item hide-menu">
            <div class="container">
                <ul>
                    <a href="index1.html"><li>首页</li></a>
					<a href="changshi.html"><li>常识</li></a>  
					<a href="xiangmu.html"><li>项目</li></a>
                    <a href="zhiyu.html"><li>治愈</li></a>
					<a href="jiuzhen.html"><li>就诊</li></a>
					<a href="about.html"><li>关于我们</li></a>
					<a href="contact.html"><li>联系我们</li></a>
                </ul>
            </div>
        </div>
        <div class="main element">
            <nav class="navbar navbar-default navbar-vira">
                <div class="container">
                    <div class="navigation-bar">
                        <div class="row">
                            <div class="col-xs-6">
                                <div class="logo">
                                    <a href="index.html"><span class="fa fa-viacoin"></span></a>
                                </div>
                            </div>
                            <div class="col-xs-6 text-right">
                                <div class="menu m">
                                    <a href="#"><span class="ion-navicon _ion-android-menu"></span></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>
        </div>   
		<!--导航条结束-->
		
		<!-- 内容开始 -->
		<h2 class="title">我们的项目</h2>
		<div class="div3">
			<div id="hero-slides">
				<div id="slides-cont">
    ·				<div class="button" id="next"></div>
    ·				<div class="button" id="prev"></div>
    ·				<div id="slides">
					  <div class="slide" style="background-image: url(img/2.jpg);">
    ·				    <div class="number">01</div>
    ·				    <div class="body">
    ·				      <div class="location"></div>
    ·				      <div class="headline">回归家庭</div><a href="#">
    ·				        <div class="link">查看详情</div></a>
    ·				    </div>
    ·				  </div>
    ·				  <div class="slide" style="background-image: url(img/1.jpg);">
    ·				    <div class="number">02</div>
    ·				    <div class="body">
    ·				      <div class="location"></div>
    ·				      <div class="headline">关爱亲人</div><a href="xmxq.html">
    ·				        <div class="link">查看详情</div></a>
    ·				    </div>
    ·				  </div>
    ·				 
    ·				  <div class="slide" style="background-image: url(img/3.jpg);">
    ·				    <div class="number">03</div>
    ·				    <div class="body">
    ·				      <div class="location"></div>
    ·				      <div class="headline">自我救助</div><a href="#">
    ·				        <div class="link">查看详情</div></a>
    ·				    </div>
    ·				  </div>
    ·				  <div class="slide" style="background-image: url(img/4.jpg);">
    ·				    <div class="number">04</div>
    ·				    <div class="body">
    ·				      <div class="location"></div>
    ·				      <div class="headline">运动舒心</div><a href="#">
    ·				        <div class="link">查看详情</div></a>
    ·				    </div>
    ·				  </div>
    ·				  <div class="slide" style="background-image: url(img/5.jpg);">
    ·				    <div class="number">05</div>
    ·				    <div class="body">
    ·				      <div class="location"></div>
    ·				      <div class="headline">感受生命</div><a href="#">
    ·				        <div class="link">查看详情</div></a>
    ·				    </div>
    ·				  </div>
    ·				  <div class="slide" style="background-image: url(img/6.jpg);">
    ·				    <div class="number">06</div>
    ·				    <div class="body">
    ·				      <div class="location"></div>
    ·				      <div class="headline">跋涉远行</div><a href="#">
    ·				        <div class="link">查看详情</div></a>
    ·				    </div>
    ·				  </div>
    ·				  <div class="slide" style="background-image: url(img/7.jpg);">
    ·				    <div class="number">07</div>
    ·				    <div class="body">
    ·				      <div class="location"></div>
    ·				      <div class="headline">享受艺术</div><a href="#">
    ·				        <div class="link">查看详情</div></a>
    ·				    </div>
    ·				  </div>				   
    ·				</div>
    ·				<div id="next-catch"></div>
    ·				<div id="prev-catch"></div>
				</div> 
			</div>
		</div>
	
		<script src="js/polyfill.min.js"></script>
		<script>
		let hero = document.getElementById('hero-slides');
		let menu = document.getElementById('menu');
		let slides = document.getElementById('slides');
		let next = [ 'next', 'next-catch' ].map(n => document.getElementById(n));
		let prev = [ 'prev', 'prev-catch' ].map(n => document.getElementById(n));
		let slideChildren = slides.children;
		let slideCount = slides.children.length;
		let currentlyDemoing = false;
		let currentPage = 0;
		let slidesPerPage = () => window.innerWidth > 1700 ? 4 : window.innerWidth > 1200 ? 3 : 2;
		let maxPageCount = () => slideCount / slidesPerPage() - 1;
		
		function goToPage(pageNumber = 0) {
			currentPage = Math.min(maxPageCount(), Math.max(0, pageNumber));
			console.log(currentPage);
			hero.style.setProperty('--page', currentPage);
		}
		
		function sleep(time) {
			return new Promise(res => setTimeout(res, time));
		}
		
		function hoverSlide(index) {
			index in slideChildren &&
				slideChildren[index].classList.add('hover');
		}
		
		function unhoverSlide(index) {
			index in slideChildren &&
				slideChildren[index].classList.remove('hover');
		}
		
		async function demo() {
			if(currentlyDemoing) {
				return;
			}
			currentlyDemoing = true;
			if(currentPage !== 0) {
				goToPage(0);
				await sleep(800);
			}
			let slides = slidesPerPage();
			let pageSeq_ = { 2: [ 1, 2, 1 ], 3: [ 1, 2, 1 / 3 ], 4: [ 1, 1, 0 ] };
			let pageSeq = pageSeq_[slides] || pageSeq_[4];
			let slideSeq_ = { 2: [ 2, 4, 3 ], 3: [ 3, 6, 2 ], 4: [ 3, 6, 2 ] };
			let slideSeq = slideSeq_[slides] || slideSeq_[2];
			await sleep(300);
			goToPage(pageSeq[0]);
			await sleep(500);
			hoverSlide(slideSeq[0]);
			await sleep(1200);
			goToPage(pageSeq[1]);
			unhoverSlide(slideSeq[0]);
			await sleep(500);
			hoverSlide(slideSeq[1]);
			await sleep(1200);
			goToPage(pageSeq[2]);
			unhoverSlide(slideSeq[1]);
			await sleep(300);
			hoverSlide(slideSeq[2]);
			await sleep(1600);
			goToPage(0);
			unhoverSlide(slideSeq[2]);
			currentlyDemoing = false;
		}
		
		next.forEach(n => n.addEventListener('click', () => !currentlyDemoing && goToPage(currentPage + 1)));
		prev.forEach(n => n.addEventListener('click', () => !currentlyDemoing && goToPage(currentPage - 1)));
		menu.addEventListener('click', demo);
		
		sleep(100).then(demo);
		
		// window.addEventListener('resize', () => {
			// console.log(document.body.style.getPropertyValue('--slide-per-page'));
		// });
		</script>
	
		<div class="div1">
			<h3>订阅项目</h3>
			<input type="text" value="请输入你的邮箱" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = '请输入你的邮箱';}"/>
			<input type="submit" value="提交">
		</div>
		
		
		<!--底部开始-->		
		<div class="footer">
			<div class="container">
				<div class="footer-main">
					<div class="footer-navg">
						<ul>
							<li><a href="index1.html"><li>首页</li></a>  
							<li><a href="changshi.html"><li>常识</li></a>    
							<li><a class="active" href="xiangmu.html"><li>项目</li></a>
							<li><a href="zhiyu.html"><li>治愈</li></a>
							<li><a href="jiuzhen.html"><li>就诊</li></a>
							<li><a href="about.html"><li>关于我们</li></a>
																
						</ul>
					</div>
					<div class="footer-top">
						<div class="col-md-4 footer-left">
							<h3>友情链接</h3>
							<ul>
								<li><a href="http://www.camh.org.cn">中国心理卫生协会</a></li><br>
								<li><a href="http://www.chineseyouth.net/">中国青少年心理成长基地</a></li><br>
								<li><a href="http://yiyuzhenghuzhu.com/">抑郁症互助公益网</a></li>
							</ul>
						</div>
						<div class="col-md-4 footer-middle">
							<h3>订阅新闻通讯</h3>
							<input type="text" value="请输入你的邮箱" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = '请输入你的邮箱';}"/>
							<input type="submit" value="提交">
						</div>
						<div class="col-md-4 footer-right">
							<h3>联系我们</h3>
							<p>地址 : 武汉市武昌区武汉大学新闻与传播学院</p>
							<p>邮箱 : *******</p>
							<p>电话 : *******</p>
						</div>
						<div class="clearfix"> </div>
					</div>
					<div class="footer-bottom">
						<p>Copyright &copy; 2019 我与迪普尔生项目组.All Rights Reserved. &nbsp;&nbsp;&nbsp;&nbsp;</p><a href="sitemap.html" color="#333">网站地图</a>
						<div class="clearfix"> </div>
						<script type="text/javascript">
							$(document).ready(function() {
								/*
								var defaults = {
									containerID: 'toTop', // fading element id
									containerHoverID: 'toTopHover', // fading element hover id
									scrollSpeed: 1200,
									easingType: 'linear' 
								};
								*/
								
								$().UItoTop({ easingType: 'easeOutQuart' });
								
							});
						</script>
						<a href="#" id="toTop" style="display: block;"> <span id="toTopHover" style="opacity: 1;"> </span></a>
					</div>
				</div>
			</div>
		</div>
		<!--底部结束-->
    
		<!--Scripts引用-->
		<script src="js/polyfill.min.js"></script>
		<script src="assets/js/jquery-3.1.1.js"></script>
		<script src="assets/js/bootstrap.min.js"></script>
		<script src="assets/js/owl.carousel.min.js"></script>
		<script src="https://use.fontawesome.com/55b73bf748.js"></script>
		<script src="assets/js/jquery.magnific-popup.js"></script>
		<script src="assets/js/script.js"></script>
	</body>
</html>
